(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{11:function(e,t,n){e.exports=n(30)},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),s=n.n(r),l=n(10),o=n(1),u=n(8),m=n.n(u),i=(n(25),n(2)),p=n.n(i),f=n(9);function d(e){return E.apply(this,arguments)}function E(){return(E=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(27),n(28);var b=function(e){var t=e.user,n=t.name,a=t.email,r=t.address,s=r.city,l=r.street,o=r.zipcode;return c.a.createElement("div",{className:"user"},c.a.createElement("p",null,"Autor contacts:"),c.a.createElement("p",null,"name: ".concat(n,", email: ").concat(a)),c.a.createElement("p",null,"address: ".concat(o,", ").concat(l,", ").concat(s)))},y=(n(29),function(e){var t=e.comment,n=t.name,a=t.email,r=t.body;return c.a.createElement("li",{className:"comment"},c.a.createElement("p",{className:"comment__autor"},c.a.createElement("span",null,"autor: ".concat(n," ")),c.a.createElement("span",null,"e-mail: ".concat(a))),c.a.createElement("p",{className:"comment__text"},r))}),h=function(e){var t=e.comments;return c.a.createElement("ul",{className:"commentList"},t.map((function(e){return c.a.createElement(y,{key:e.id,comment:e})})))},v=function(e){var t=e.title,n=e.body,a=e.user,r=e.comments;return c.a.createElement("li",{className:"post"},c.a.createElement("h3",{className:"post__title"},t),c.a.createElement("p",{className:"post__text"},n),c.a.createElement(b,{user:a}),c.a.createElement(h,{comments:r}))},j=function(e){var t=e.postList;return c.a.createElement("ul",{className:"postList"},t.map((function(e){var t=e.user,n=e.comments,a=e.id,r=e.title,s=e.body;return c.a.createElement(v,{key:a,title:r,body:s,user:t,comments:n})})))},O="https://jsonplaceholder.typicode.com/",g=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),u=Object(o.a)(s,2),i=u[0],p=u[1],f=Object(a.useState)(!1),E=Object(o.a)(f,2),b=E[0],y=E[1],h=Object(a.useState)(""),v=Object(o.a)(h,2),g=v[0],N=v[1],_=Object(a.useState)(""),k=Object(o.a)(_,2),x=k[0],L=k[1];var w=Object(a.useMemo)((function(){return function(e,t){var n=new RegExp(t,"gi");return e.filter((function(e){return n.test(e.title)||n.test(e.body)}))}(n,x)}),[x,n]),S=Object(a.useCallback)(m()(L,1e3),[]);return n.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Dynamic list of posts"),c.a.createElement("input",{className:"search-field",value:g,type:"text",placeholder:"Enter title or body",onChange:function(e){N(e.target.value),S(e.target.value)}}),c.a.createElement("div",{className:"App"},c.a.createElement(j,{postList:w}))):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Dynamic list of posts"),c.a.createElement("button",{type:"button",onClick:function(){p(!1),y(!0),Promise.all([d(O+"users"),d(O+"posts"),d(O+"comments")]).then((function(e){y(!1);var t=e[1].map((function(t){return Object(l.a)({},t,{user:e[0].find((function(e){return e.id===t.userId})),comments:e[2].filter((function(e){return e.postId===t.id}))})}));r(t)})).catch((function(){p(!0),y(!1)}))},disabled:b},"Load posts"),c.a.createElement("p",null,b?"Loading":""),c.a.createElement("p",null,i?"Error occured. Try again later":""))};s.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.3edaad46.chunk.js.map